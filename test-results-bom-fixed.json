{"numFailedTestSuites":1,"numFailedTests":14,"numPassedTestSuites":0,"numPassedTests":0,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":14,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1761781140843,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["BOM Auto-Deduction API","POST /api/inventory/production"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API POST /api/inventory/production should auto-deduct BOM materials on production transaction","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143706,"status":"failed","title":"should auto-deduct BOM materials on production transaction"},{"ancestorTitles":["BOM Auto-Deduction API","POST /api/inventory/production"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API POST /api/inventory/production should handle stock shortage with Korean error message","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143713,"status":"failed","title":"should handle stock shortage with Korean error message"},{"ancestorTitles":["BOM Auto-Deduction API","POST /api/inventory/production"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API POST /api/inventory/production should rollback transaction on deduction failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143715,"status":"failed","title":"should rollback transaction on deduction failure"},{"ancestorTitles":["BOM Auto-Deduction API","POST /api/inventory/production"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API POST /api/inventory/production should validate required fields with Korean error messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143716,"status":"failed","title":"should validate required fields with Korean error messages"},{"ancestorTitles":["BOM Auto-Deduction API","POST /api/inventory/production"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API POST /api/inventory/production should handle Korean text encoding correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143717,"status":"failed","title":"should handle Korean text encoding correctly"},{"ancestorTitles":["BOM Auto-Deduction API","GET /api/inventory/production"],"duration":0,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API GET /api/inventory/production should return list of production transactions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143719,"status":"failed","title":"should return list of production transactions"},{"ancestorTitles":["BOM Auto-Deduction API","Performance"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API Performance should respond within 300ms for production transaction with BOM deduction","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143720,"status":"failed","title":"should respond within 300ms for production transaction with BOM deduction"},{"ancestorTitles":["BOM Auto-Deduction API","Edge Cases"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API Edge Cases should handle production of item without BOM","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143721,"status":"failed","title":"should handle production of item without BOM"},{"ancestorTitles":["BOM Auto-Deduction API","Edge Cases"],"duration":0,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API Edge Cases should handle zero quantity gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143722,"status":"failed","title":"should handle zero quantity gracefully"},{"ancestorTitles":["BOM Auto-Deduction API","Edge Cases"],"duration":0,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)"],"fullName":"BOM Auto-Deduction API Edge Cases should handle invalid item_id","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143724,"status":"failed","title":"should handle invalid item_id"},{"ancestorTitles":["BOM Auto-Deduction API","Multi-Level BOM Testing"],"duration":0,"failing":false,"failureDetails":[{},{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)","TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:599:27)"],"fullName":"BOM Auto-Deduction API Multi-Level BOM Testing should handle 2-level BOM deduction correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143752,"status":"failed","title":"should handle 2-level BOM deduction correctly"},{"ancestorTitles":["BOM Auto-Deduction API","Multi-Level BOM Testing"],"duration":0,"failing":false,"failureDetails":[{},{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)","TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:599:27)"],"fullName":"BOM Auto-Deduction API Multi-Level BOM Testing should handle 3-level BOM hierarchy with performance <200ms","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143753,"status":"failed","title":"should handle 3-level BOM hierarchy with performance <200ms"},{"ancestorTitles":["BOM Auto-Deduction API","Multi-Level BOM Testing"],"duration":1,"failing":false,"failureDetails":[{},{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)","TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:599:27)"],"fullName":"BOM Auto-Deduction API Multi-Level BOM Testing should detect and prevent circular BOM references","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143753,"status":"failed","title":"should detect and prevent circular BOM references"},{"ancestorTitles":["BOM Auto-Deduction API","Multi-Level BOM Testing"],"duration":0,"failing":false,"failureDetails":[{},{}],"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:68:28)","TypeError: fetch failed\n    at node:internal/deps/undici/undici:13502:13\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at apiRequest (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:38:20)\n    at Object.<anonymous> (C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts:599:27)"],"fullName":"BOM Auto-Deduction API Multi-Level BOM Testing should handle concurrent production transactions safely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1761781143754,"status":"failed","title":"should handle concurrent production transactions safely"}],"endTime":1761781143926,"message":"  ● BOM Auto-Deduction API › POST /api/inventory/production › should auto-deduct BOM materials on production transaction\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › POST /api/inventory/production › should handle stock shortage with Korean error message\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › POST /api/inventory/production › should rollback transaction on deduction failure\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › POST /api/inventory/production › should validate required fields with Korean error messages\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › POST /api/inventory/production › should handle Korean text encoding correctly\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › GET /api/inventory/production › should return list of production transactions\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Performance › should respond within 300ms for production transaction with BOM deduction\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Edge Cases › should handle production of item without BOM\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Edge Cases › should handle zero quantity gracefully\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Edge Cases › should handle invalid item_id\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should handle 2-level BOM deduction correctly\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should handle 2-level BOM deduction correctly\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:599:27)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should handle 3-level BOM hierarchy with performance <200ms\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should handle 3-level BOM hierarchy with performance <200ms\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:599:27)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should detect and prevent circular BOM references\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should detect and prevent circular BOM references\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:599:27)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should handle concurrent production transactions safely\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:68:28)\n\n    Cause:\n    AggregateError:\n\n\n  ● BOM Auto-Deduction API › Multi-Level BOM Testing › should handle concurrent production transactions safely\n\n    TypeError: fetch failed\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   }\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(url\u001b[33m,\u001b[39m options)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mconst\u001b[39m text \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(text)\u001b[33m;\u001b[39m\n     \u001b[90m 41 |\u001b[39m }\u001b[0m\n\n      at apiRequest (src/__tests__/api/bom-auto-deduction.test.ts:38:20)\n      at Object.<anonymous> (src/__tests__/api/bom-auto-deduction.test.ts:599:27)\n\n    Cause:\n    AggregateError:\n\n","name":"C:\\Users\\USER\\claude_code\\FITaeYoungERP\\src\\__tests__\\api\\bom-auto-deduction.test.ts","startTime":1761781140975,"status":"failed","summary":""}],"wasInterrupted":false}
