# 태창 ERP 사용자 매뉴얼

**작성일**: 2025-01-27  
**대상**: 1000개 품목 규모 운영 환경

---

## 목차

1. [시스템 사용 순서](#1-시스템-사용-순서)
2. [기준정보 등록](#2-기준정보-등록)
3. [재고 관리](#3-재고-관리)
4. [생산 관리](#4-생산-관리)
5. [회계 관리](#5-회계-관리)
6. [재고 현황 확인](#6-재고-현황-확인)
7. [FAQ](#7-faq)

---

## 1. 시스템 사용 순서

**중요**: 반드시 다음 순서대로 입력해야 합니다.

```
1단계: 거래처 등록 (공급사, 고객사)
   ↓
2단계: 품목 등록 (원자재, 완제품)
   ↓
3단계: BOM 등록 (완제품 = 원자재 구성)
   ↓
4단계: 입고 (재고 생성)
   ↓
5단계: 생산 (완제품 생산 시 원자재 자동 차감)
   ↓
6단계: 출고 (완제품 판매)
   ↓
7단계: 회계 관리 (매출/매입/수금/지급)
```

---

## 2. 기준정보 등록

### 2.1 거래처 등록 (필수 선행 작업)

**메뉴**: 기준정보 > 거래처관리

**입력 예시** (50개):
```
공급사 30개:
- 거래처명: 동일철강
- 타입: 공급사
- 사업자번호: 123-45-67890
- 담당자: 김철수
- 연락처: 02-1234-5678
- 이메일: contact@dongil.com
- 결제조건: 현금 30일

- 거래처명: 한국볼트
- 타입: 공급사
...
(총 30개)

고객사 20개:
- 거래처명: 현대자동차
- 타입: 고객사
- 사업자번호: 234-56-78901
...
(총 20개)
```

**입력 방법**:
1. "거래처 등록" 버튼 클릭
2. 필수 정보 입력 (거래처명, 타입, 사업자번호)
3. 선택 정보 입력 (담당자, 연락처, 이메일, 결제조건)
4. "저장" 버튼 클릭

**팁**: Excel 업로드 기능을 사용하면 일괄 등록 가능

---

### 2.2 품목 등록 (필수 선행 작업)

**메뉴**: 기준정보 > 품목관리

**입력 예시** (1000개):

#### 원자재 700개:

```
RAW-001: 냉간압연강판 1.0T
- 품목코드: RAW-001
- 품목명: 냉간압연강판 1.0T
- 카테고리: 원자재
- 규격: 1.0T × 1000W × 2000L
- 단위: 장
- 단가: 10,000원
- 안전재고: 100개

RAW-002: 냉간압연강판 1.5T
- 품목코드: RAW-002
- 품목명: 냉간압연강판 1.5T
- 카테고리: 원자재
- 단위: 장
- 단가: 12,000원
...

RAW-201: M6 볼트
- 품목코드: RAW-201
- 품목명: M6 볼트
- 카테고리: 원자재
- 단위: 개
- 단가: 50원
...

RAW-351: ABS 수지 케이스
- 품목코드: RAW-351
- 품목명: ABS 수지 케이스
- 카테고리: 원자재
- 단위: 개
- 단가: 2,000원
...
```

#### 완제품 300개:

```
PROD-001: 브레이크 패드
- 품목코드: PROD-001
- 품목명: 브레이크 패드
- 카테고리: 제품
- 단위: 개
- 단가: 50,000원

PROD-002: 에어백 모듈
- 품목코드: PROD-002
- 품목명: 에어백 모듈
- 카테고리: 제품
- 단위: 개
- 단가: 150,000원
...
```

**입력 방법**:
1. "품목 등록" 버튼 클릭
2. 필수 정보 입력 (품목코드, 품목명, 카테고리, 단위)
3. 선택 정보 입력 (규격, 단가, 안전재고)
4. "저장" 버튼 클릭

**팁**: Excel 업로드 기능으로 일괄 등록 가능

---

### 2.3 BOM 등록 (생산 전 필수)

**메뉴**: 기준정보 > BOM관리

**입력 예시** (900개 관계):

```
PROD-001 (브레이크 패드) 구성:
- RAW-001 (냉간압연강판 1.0T) × 2개
- RAW-201 (M6 볼트) × 4개
- RAW-351 (ABS 수지 케이스) × 1개

PROD-002 (에어백 모듈) 구성:
- RAW-501 (센서 모듈) × 1개
- RAW-351 (ABS 수지 케이스) × 2개
- RAW-201 (M6 볼트) × 6개
...
```

**입력 방법**:
1. "BOM 등록" 버튼 클릭
2. 완제품 선택 (예: PROD-001 브레이크 패드)
3. 원자재 추가:
   - RAW-001 입력, 수량: 2, 추가
   - RAW-201 입력, 수량: 4, 추가
   - RAW-351 입력, 수량: 1, 추가
4. "저장" 버튼 클릭

**비고**: BOM이 없으면 생산 시 원자재가 자동 차감되지 않습니다.

---

## 3. 재고 관리

### 3.1 입고 (재고 생성)

**메뉴**: 재고관리 > 입고관리

**입력 예시** (700건):

```
입고 1:
- 거래일자: 2025-01-27
- 공급사: 동일철강
- 품목: RAW-001 (냉간압연강판 1.0T)
- 수량: 1,000개
- 단가: 10,000원
- 참조번호: PUR-20250127-001

입고 2:
- 거래일자: 2025-01-27
- 공급사: 한국볼트
- 품목: RAW-201 (M6 볼트)
- 수량: 10,000개
- 단가: 50원
- 참조번호: PUR-20250127-002
...
```

**입력 방법**:
1. "입고 등록" 버튼 클릭
2. 거래일자 선택
3. 공급사 선택 (드롭다운에서 "동일철강" 선택)
4. 품목 선택 (드롭다운에서 "RAW-001" 선택)
5. 수량 입력
6. 단가 입력 (품목 기본 단가 자동 입력, 변경 가능)
7. "저장" 버튼 클릭

**자동 처리**:
- ✓ inventory_transactions 테이블에 거래 기록 생성
- ✓ items.current_stock 자동 증가 (1,000개)
- ✓ 대시보드 재고 통계 반영

---

## 4. 생산 관리 (BOM 자동 차감 핵심)

### 4.1 소량 생산 테스트

**메뉴**: 재고관리 > 생산관리

**입력 예시**:
```
생산 등록:
- 거래일자: 2025-01-27
- 품목: PROD-001 (브레이크 패드)
- 수량: 10개
```

**입력 방법**:
1. "생산 등록" 버튼 클릭
2. 거래일자 선택 (2025-01-27)
3. 품목 선택 (PROD-001 브레이크 패드)
4. 수량 입력 (10개)
5. "저장" 버튼 클릭

**시스템 자동 처리**:
```
1. BOM 조회 (PROD-001)
   → RAW-001 (냉간압연강판) × 2
   → RAW-201 (M6 볼트) × 4
   → RAW-351 (ABS 수지 케이스) × 1

2. 필요 수량 계산
   - 냉간압연강판: 10개 × 2 = 20개 필요
   - M6 볼트: 10개 × 4 = 40개 필요
   - ABS 수지 케이스: 10개 × 1 = 10개 필요

3. 재고 충분성 검증
   - 냉간압연강판: 현재 1,000개 ≥ 필요 20개 ✅
   - M6 볼트: 현재 10,000개 ≥ 필요 40개 ✅
   - ABS 수지 케이스: 현재 재고 확인 ✅

4. 데이터베이스 트랜잭션 시작
   
5. inventory_transactions INSERT:
   - 생산입고: PROD-001 10개
   - 생산출고: RAW-001 20개 (자동)
   - 생산출고: RAW-201 40개 (자동)
   - 생산출고: RAW-351 10개 (자동)

6. items.current_stock 업데이트:
   - PROD-001 (브레이크 패드): 0 → 10개 (+10)
   - RAW-001 (냉간압연강판): 1,000 → 980개 (-20)
   - RAW-201 (M6 볼트): 10,000 → 9,960개 (-40)
   - RAW-351 (ABS 수지 케이스): 재고 차감

7. bom_deduction_log INSERT (3건)
   - 기록: 완제품, 원자재, 필요 수량, 실제 차감, 재고 변화

8. 트랜잭션 커밋
```

**결과 확인**:
```
재고 현황 (/stock)에서 확인:
- PROD-001 (브레이크 패드): 10개
- RAW-001 (냉간압연강판): 980개
- RAW-201 (M6 볼트): 9,960개
- RAW-351 (ABS 수지 케이스): 차감된 수량
```

---

### 4.2 재고 부족 테스트

**입력 예시**:
```
생산 시도:
- 품목: PROD-001 (브레이크 패드)
- 수량: 1000개
```

**시스템 처리**:
```
1. BOM 조회
   - 냉간압연강판 필요: 1000개 × 2 = 2,000개
   - M6 볼트 필요: 1000개 × 4 = 4,000개
   - ABS 수지 케이스 필요: 1000개

2. 재고 확인
   - 냉간압연강판: 현재 980개 < 필요 2,000개 ❌
   
3. ❌ 에러 발생
   "재고 부족: RAW-001의 현재 재고(980)가 필요한 수량(2000)보다 부족합니다."

4. 트랜잭션 롤백
   - 재고 변화 없음
   - 기록 생성 없음
```

---

## 5. 회계 관리

### 5.1 매출 등록

**메뉴**: 회계관리 > 매출 관리

**입력 예시**:
```
매출 등록:
- 거래일자: 2025-01-28
- 고객사: 현대자동차
- 품목: PROD-001 (브레이크 패드)
- 수량: 5개
- 단가: 50,000원
- 총액: 250,000원 (자동 계산)
- 납입일: 2025-02-07
```

**입력 방법**:
1. "매출 등록" 버튼 클릭
2. 거래일자 선택
3. 고객사 선택 (드롭다운)
4. 품목 선택 (드롭다운)
5. 수량, 단가 입력
6. "저장" 버튼 클릭

**자동 처리**:
- 거래번호 자동 생성 (예: S-20250128-0001)
- 총액 자동 계산 (수량 × 단가)
- 세액 자동 계산 (총액 × 10%)

---

### 5.2 수금 등록

**메뉴**: 회계관리 > 수금 관리

**입력 예시**:
```
수금 등록:
- 매출 거래 선택: S-20250128-0001 (250,000원)
- 수금일자: 2025-01-28
- 수금액: 250,000원 (전액 수금 버튼 클릭)
- 결제방법: 계좌이체
- 은행: 국민은행
- 계좌번호: 123-456-789
- 적요: 매출대금
```

**특수 기능**:
- "전액 수금" 버튼: 매출 총액 자동 입력
- "이전 정보 불러오기": localStorage에 저장된 은행 정보 자동 입력

**자동 처리**:
- sales_transactions.payment_status → COMPLETED
- collections 테이블에 수금 기록 생성

---

### 5.3 매입 등록

**메뉴**: 회계관리 > 매입 관리

**입력 예시**:
```
매입 등록:
- 거래일자: 2025-01-27
- 공급사: 동일철강
- 품목: RAW-001 (냉간압연강판 1.0T)
- 수량: 1,000개
- 단가: 10,000원
- 총액: 10,000,000원
```

---

### 5.4 지급 등록

**메뉴**: 회계관리 > 지급 관리

**입력 예시**:
```
지급 등록:
- 매입 거래 선택: P-20250127-0001 (10,000,000원)
- 지급일자: 2025-01-27
- 지급액: 10,000,000원 (전액 지급 버튼 클릭)
- 결제방법: 계좌이체
- 은행: 우리은행
```

---

## 6. 재고 현황 확인

### 6.1 재고 현황 조회

**메뉴**: 재고현황 > 재고 현황

**조회 가능 정보**:
- 품목별 현재 재고
- 재고 가치
- 안전재고 대비 현황
- 재고 부족 알림

**필터 기능**:
- 카테고리별 필터
- 재고 부족만 보기
- 검색 (품목코드, 품목명)

---

### 6.2 재고 이력 조회

**메뉴**: 재고현황 > 재고이력

**조회 가능 정보**:
- 입고/출고/생산 이력
- 거래일자
- 거래 수량
- 거래 전후 재고

---

## 7. FAQ

### Q1: BOM 없이 생산할 수 있나요?

**A**: 아니요. BOM을 먼저 등록해야 생산 시 원자재가 자동 차감됩니다.

**해결 방법**:
1. BOM 관리 메뉴로 이동
2. 완제품 선택
3. 원자재 및 수량 추가
4. 저장

---

### Q2: 재고가 부족한데 생산 등록하려고 하면?

**A**: 시스템이 자동으로 차단합니다.

**에러 메시지**:
```
재고 부족: RAW-001의 현재 재고(980)가 필요한 수량(2000)보다 부족합니다.
```

**해결 방법**:
1. 입고 메뉴로 이동
2. 부족한 원자재 입고
3. 다시 생산 등록

---

### Q3: 회계 관리는 재고에 영향을 주나요?

**A**: 아니요. 회계는 금액 관리만 하고 재고에는 영향을 주지 않습니다.

**재고 변경 방법**:
- 입고: 재고 증가
- 출고: 재고 감소
- 생산: 완제품 증가 + 원자재 감소 (BOM 자동 차감)

**회계 관리**:
- 매출/매입: 거래 기록만
- 수금/지급: 결제 기록만

---

### Q4: 권한이 없다고 나오면?

**A**: 로그인한 계정의 역할을 확인하세요.

**권한별 접근 범위**:
- admin/ceo: 모든 기능 사용 가능
- accountant: 회계 관리만 수정 가능, 나머지 읽기
- manager: 삭제 가능
- operator: 읽기/쓰기만
- viewer: 읽기만

**해결 방법**: 관리자에게 권한 요청

---

### Q5: 데이터 입력 시 실수하면?

**A**: 수정/삭제 기능을 사용하세요.

**수정**:
1. 해당 데이터의 "수정" 버튼 클릭
2. 정보 수정
3. 저장

**삭제**:
1. 해당 데이터의 "삭제" 버튼 클릭
2. 확인 클릭
3. Revert (재고 재고정): 삭제 시 재고가 원래대로 돌아감

---

## 8. 사용 팁

### 팁 1: Excel 일괄 등록

**거래처 50개, 품목 1000개는 개별 입력보다 Excel 업로드 사용 권장**

```
1. 템플릿 다운로드
2. Excel에 데이터 입력
3. 엑셀 업로드 버튼 클릭
4. 파일 선택
5. 업로드
```

### 팁 2: 데이터 검색

**필터 및 검색 기능 활용**:
- 거래처 관리: 거래처명, 사업자번호로 검색
- 품목 관리: 품목코드, 품목명으로 검색
- 재고 현황: 카테고리별 필터

### 팁 3: 재고 부족 알림

**대시보드에서 재고 부족 품목 확인**:
- "재고 부족 품목" 카드에서 확인
- 재주문 필요 품목 목록 확인
- 입고 등록 바로가기 버튼 활용

---

**문서 끝**


