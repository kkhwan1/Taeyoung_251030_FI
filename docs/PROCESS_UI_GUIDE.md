# 공정 관리 사용자 가이드

## 목차
1. [개요](#개요)
2. [공정 관리 화면 접근](#공정-관리-화면-접근)
3. [공정 목록 조회](#공정-목록-조회)
4. [공정 작업 등록](#공정-작업-등록)
5. [공정 작업 수정](#공정-작업-수정)
6. [공정 작업 상태 관리](#공정-작업-상태-관리)
7. [공정 작업 삭제](#공정-작업-삭제)
8. [필터링 및 검색](#필터링-및-검색)

---

## 개요

공정 관리 시스템은 자동차 부품 제조 공정(Blanking, Press, 조립)을 관리하는 모듈입니다. 원자재(코일)부터 반제품(판지), 완제품까지의 제조 흐름을 추적하고 관리할 수 있습니다.

### 주요 기능
- **공정 작업 등록**: 투입재료, 산출제품, 수량 정보를 입력하여 공정 작업 생성
- **재고 검증**: 투입재료의 현재 재고를 자동으로 확인하여 재고 부족 방지
- **수율 계산**: 투입수량 대비 산출수량을 자동으로 계산하여 표시
- **상태 관리**: 대기중 → 진행중 → 완료의 작업 흐름 관리
- **필터링**: 상태별, 공정유형별, 날짜별 조회

### 공정 흐름
```
원자재 (코일)
    ↓ Blanking 공정
반제품 (판지)
    ↓ Press 공정
완제품
    ↓ 조립 공정
최종 제품
```

---

## 공정 관리 화면 접근

### 1. 사이드바에서 접근
1. 왼쪽 사이드바에서 **"공정관리"** 메뉴를 찾습니다
2. **"공정 작업"**을 클릭하여 공정 관리 화면으로 이동합니다

### 2. 화면 구성
공정 관리 화면은 다음과 같이 구성되어 있습니다:
- **상단**: 제목, 새 공정 작업 추가 버튼
- **필터 영역**: 상태 탭, 검색, 공정유형 선택, 날짜 범위
- **테이블**: 공정 작업 목록 (공정번호, 유형, 재료, 수량, 수율, 상태 등)

---

## 공정 목록 조회

### 전체 공정 목록 보기
공정 관리 화면에 진입하면 기본적으로 모든 공정 작업이 표시됩니다.

### 상태별 조회
화면 상단의 탭을 클릭하여 원하는 상태의 작업만 조회할 수 있습니다:
- **진행중**: 현재 작업중인 공정만 표시
- **완료**: 완료된 공정만 표시
- **전체**: 모든 상태의 공정 표시

### 테이블 컬럼 설명
| 컬럼명 | 설명 |
|--------|------|
| 공정번호 | 자동으로 부여되는 고유 번호 (예: OPR-20250201-001) |
| 공정유형 | Blanking 공정, Press 공정, 조립 공정 |
| 투입재료 | 공정에 투입되는 원자재 또는 반제품 |
| 산출제품 | 공정 완료 후 생산되는 제품 |
| 투입수량 | 투입된 재료의 수량 |
| 산출수량 | 생산된 제품의 수량 |
| 수율(%) | 산출수량 ÷ 투입수량 × 100 |
| 상태 | 대기중, 진행중, 완료, 취소됨 |
| 작업자 | 공정을 담당하는 작업자 ID 또는 이름 |
| 작업 | 수정, 삭제 버튼 |

---

## 공정 작업 등록

### 1. 등록 화면 열기
화면 우측 상단의 **"새 공정 작업 추가"** 버튼을 클릭합니다.

### 2. 공정 정보 입력

#### 필수 입력 항목
1. **공정유형** *(필수)*
   - Blanking 공정: 코일 → 판지
   - Press 공정: 판지 → 성형품
   - 조립 공정: 부품 → 완제품
   - 드롭다운에서 해당 공정 선택

2. **투입재료** *(필수)*
   - 검색창에 품번 또는 품명 입력
   - 자동완성 목록에서 선택
   - 선택 후 현재 재고 수량이 표시됩니다
   - 예: "현재 재고: 1,500"

3. **산출제품** *(필수)*
   - 검색창에 품번 또는 품명 입력
   - 자동완성 목록에서 선택
   - 선택 후 현재 재고 수량이 표시됩니다

4. **투입수량** *(필수)*
   - 공정에 투입할 수량 입력
   - ⚠️ 재고보다 많은 수량 입력 시 에러 메시지 표시:
     - "재고 부족 (현재 재고: 1,500)"

5. **산출수량** *(필수)*
   - 공정 완료 후 예상 산출 수량 입력
   - 입력 시 수율이 자동으로 계산됩니다

#### 선택 입력 항목
1. **작업자**
   - 작업자 ID 또는 이름 입력
   - 예: "김철수", "EMP001"

2. **비고**
   - 공정 관련 특이사항이나 메모
   - 예: "불량률 높음 - 금형 점검 필요"

### 3. 수율 확인
투입수량과 산출수량을 입력하면 하단에 수율(%)이 자동으로 계산되어 표시됩니다:
```
수율 = (산출수량 ÷ 투입수량) × 100

예시:
투입수량: 1,000개
산출수량: 950개
수율: 95.00%
```

### 4. 저장
1. 모든 필수 항목을 입력했는지 확인
2. 재고 부족 에러가 없는지 확인
3. 우측 하단의 **"등록"** 버튼 클릭
4. 등록 성공 시 목록 화면으로 돌아가며, 새로 등록된 작업이 표시됩니다

---

## 공정 작업 수정

### 1. 수정 화면 열기
1. 공정 목록에서 수정할 작업의 **"수정"** 버튼 클릭
2. 공정 작업 수정 모달이 열립니다

### 2. 정보 수정
- 등록 시와 동일한 방식으로 정보 수정
- ⚠️ **공정유형은 수정할 수 없습니다** (비활성화 상태로 표시)

### 3. 저장
1. 수정 내용 확인
2. 우측 하단의 **"수정"** 버튼 클릭
3. 수정 성공 시 목록에서 변경된 정보를 확인할 수 있습니다

---

## 공정 작업 상태 관리

공정 작업은 4가지 상태를 가집니다:
- 🔲 **대기중** (PENDING): 작업 준비 완료, 시작 대기
- 🔵 **진행중** (IN_PROGRESS): 현재 작업 진행중
- ✅ **완료** (COMPLETED): 작업 완료
- ❌ **취소됨** (CANCELLED): 작업 취소

### 상태 변경 방법

#### 1. 작업 시작 (대기중 → 진행중)
1. 대기중 상태의 작업 **"수정"** 버튼 클릭
2. 좌측 하단의 **"작업 시작"** 버튼(파란색) 클릭
3. 상태가 "진행중"으로 변경되며, 테이블에서 파란색 배지로 표시됩니다

#### 2. 작업 완료 (진행중 → 완료)
1. 진행중 상태의 작업 **"수정"** 버튼 클릭
2. 좌측 하단의 **"작업 완료"** 버튼(녹색) 클릭
3. 상태가 "완료"로 변경되며, 테이블에서 녹색 배지로 표시됩니다
4. **완료 시 재고 자동 반영**:
   - 투입재료 재고 차감
   - 산출제품 재고 증가

#### 3. 작업 취소 (대기중/진행중 → 취소됨)
1. 대기중 또는 진행중 상태의 작업 **"수정"** 버튼 클릭
2. 좌측 하단의 **"작업 취소"** 버튼(빨간색) 클릭
3. 확인 다이얼로그에서 **"확인"** 클릭
4. 상태가 "취소됨"으로 변경되며, 테이블에서 빨간색 배지로 표시됩니다

### 상태별 표시 색상
- **대기중**: 회색 배지
- **진행중**: 파란색 배지
- **완료**: 녹색 배지
- **취소됨**: 빨간색 배지

---

## 공정 작업 삭제

### 삭제 방법
1. 삭제할 작업의 **"삭제"** 버튼 클릭
2. 확인 다이얼로그가 표시됩니다:
   ```
   공정 작업을 삭제하시겠습니까?
   삭제된 데이터는 복구할 수 없습니다.
   ```
3. **"확인"** 버튼을 클릭하여 삭제

### 주의사항
- ⚠️ 삭제된 데이터는 복구할 수 없습니다
- ⚠️ 완료된 작업을 삭제하면 재고 이동 이력도 함께 삭제됩니다
- 💡 취소가 필요한 경우 "삭제" 대신 "작업 취소" 상태로 변경하는 것을 권장합니다

---

## 필터링 및 검색

공정 목록을 효율적으로 조회하기 위한 다양한 필터 기능을 제공합니다.

### 1. 상태별 필터 (탭)
화면 상단의 탭을 클릭하여 상태별로 필터링:
- **진행중**: 현재 작업중인 공정만 표시
- **완료**: 완료된 공정만 표시
- **전체**: 모든 상태의 공정 표시

### 2. 검색
검색창에 다음 정보를 입력하여 검색:
- 공정번호 (예: "OPR-20250201-001")
- 투입재료 품명 (예: "STEEL-COIL")
- 산출제품 품명 (예: "PLATE-A")

검색어는 실시간으로 적용되며, 입력 중에도 결과가 필터링됩니다.

### 3. 공정유형 필터
드롭다운 메뉴에서 공정유형 선택:
- **전체**: 모든 공정 유형 표시 (기본값)
- **Blanking 공정**: Blanking 공정만 표시
- **Press 공정**: Press 공정만 표시
- **조립 공정**: 조립 공정만 표시

### 4. 날짜 범위 필터
#### 시작일 설정
1. "시작일" 입력창 클릭
2. 달력에서 시작 날짜 선택
3. 선택한 날짜 이후의 작업만 표시됩니다

#### 종료일 설정
1. "종료일" 입력창 클릭
2. 달력에서 종료 날짜 선택
3. 선택한 날짜 이전의 작업만 표시됩니다

#### 날짜 범위 조회
시작일과 종료일을 모두 설정하면 해당 기간의 작업만 표시됩니다.

### 5. 복합 필터링
여러 필터를 동시에 적용할 수 있습니다:

**예시 1: 이번 주 완료된 Blanking 공정 조회**
1. 상태 탭: "완료" 선택
2. 공정유형: "Blanking 공정" 선택
3. 시작일: 이번 주 월요일
4. 종료일: 오늘

**예시 2: 특정 재료를 사용한 진행중 작업 조회**
1. 상태 탭: "진행중" 선택
2. 검색: "STEEL-COIL" 입력

### 6. 필터 초기화
모든 필터를 초기화하려면:
1. 상태 탭: "전체" 선택
2. 검색창: 내용 지우기
3. 공정유형: "전체" 선택
4. 날짜: 선택 해제

---

## 화면 예시

### 공정 목록 화면
```
┌─────────────────────────────────────────────────────────────────┐
│  공정 관리                                    [새 공정 작업 추가]  │
├─────────────────────────────────────────────────────────────────┤
│  [진행중] [완료] [전체]                                           │
│                                                                   │
│  검색: [________________]  공정유형: [전체 ▼]                     │
│  시작일: [________]  종료일: [________]                           │
├─────────────────────────────────────────────────────────────────┤
│ 공정번호 | 유형 | 투입재료 | 산출제품 | 수율 | 상태 | 작업        │
├─────────────────────────────────────────────────────────────────┤
│ OPR-001  | Blank| COIL-A   | PLATE-B  | 95%  | 🔵진행중 | [수정]  │
│ OPR-002  | Press| PLATE-B  | PART-C   | 98%  | ✅완료   | [수정]  │
└─────────────────────────────────────────────────────────────────┘
```

### 공정 작업 등록 화면
```
┌─────────────────────────────────────────────────────────────────┐
│  새 공정 작업 추가                                        [X]     │
├─────────────────────────────────────────────────────────────────┤
│  공정유형 *                                                       │
│  [Blanking 공정 ▼]                                               │
│                                                                   │
│  투입재료 *                                                       │
│  [STEEL-COIL-100T - 강판 코일 100T        ]                      │
│  현재 재고: 1,500                                                 │
│                                                                   │
│  산출제품 *                                                       │
│  [PLATE-A-500 - 판지 A형 500mm           ]                      │
│  현재 재고: 800                                                   │
│                                                                   │
│  투입수량 *                    산출수량 *                          │
│  [1000            ]           [950              ]                │
│                                                                   │
│  수율                                                             │
│  95.00%                                                           │
│                                                                   │
│  작업자                                                           │
│  [김철수            ]                                             │
│                                                                   │
│  비고                                                             │
│  [___________________________________________________________]   │
│                                                                   │
├─────────────────────────────────────────────────────────────────┤
│                                           [취소]      [등록]      │
└─────────────────────────────────────────────────────────────────┘
```

---

## 자주 묻는 질문 (FAQ)

### Q1: 재고가 부족한데 공정을 등록하고 싶어요
**A**: 재고가 부족한 경우 공정을 등록할 수 없습니다. 먼저 입고 관리에서 해당 재료를 입고하신 후 공정을 등록해주세요.

### Q2: 공정을 완료했는데 재고가 반영되지 않아요
**A**: 공정 작업의 상태를 "완료"로 변경해야 재고가 자동으로 반영됩니다. 수정 화면에서 "작업 완료" 버튼을 클릭해주세요.

### Q3: 수율이 100%를 초과할 수 있나요?
**A**: 네, 가능합니다. 특정 공정에서 원자재 중량 대비 제품 수량이 많을 경우 100%를 초과할 수 있습니다.

### Q4: 완료된 작업을 다시 진행중으로 변경할 수 있나요?
**A**: 아니오, 상태 변경은 단방향입니다 (대기중 → 진행중 → 완료). 완료된 작업을 수정해야 하는 경우 삭제 후 다시 등록해주세요.

### Q5: 공정번호는 어떻게 부여되나요?
**A**: 공정번호는 "OPR-YYYYMMDD-XXX" 형식으로 자동 부여됩니다.
- OPR: Operation 약자
- YYYYMMDD: 등록일자 (예: 20250201)
- XXX: 당일 순번 (001, 002, ...)

---

## 지원 및 문의

공정 관리 시스템 사용 중 문제가 발생하거나 추가 기능이 필요한 경우, 시스템 관리자에게 문의해주시기 바랍니다.

**문서 버전**: 1.0
**작성일**: 2025-02-04
**최종 수정일**: 2025-02-04
