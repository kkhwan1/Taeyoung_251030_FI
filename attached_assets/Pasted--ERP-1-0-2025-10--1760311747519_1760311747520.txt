# 태창 ERP 시스템 사용자 매뉴얼

**버전**: 1.0
**최종 업데이트**: 2025년 10월
**대상**: 업무 담당자 및 관리자

---

## 목차

1. [시스템 개요](#1-시스템-개요)
2. [설치 및 초기 설정](#2-설치-및-초기-설정)
3. [로그인 및 대시보드](#3-로그인-및-대시보드)
4. [마스터 데이터 관리](#4-마스터-데이터-관리)
5. [재고 관리](#5-재고-관리)
6. [재고 현황 및 리포트](#6-재고-현황-및-리포트)
7. [매출/매입 관리](#7-매출매입-관리)
8. [수금/지급 관리](#8-수금지급-관리)
9. [회계 요약](#9-회계-요약)
10. [시스템 관리](#10-시스템-관리)
11. [FAQ 및 문제 해결](#11-faq-및-문제-해결)

---

## 1. 시스템 개요

### 1.1 태창 ERP란?

태창 ERP는 자동차 부품 제조업체를 위한 **클라우드 기반 전사적 자원 관리 시스템**입니다. 품목 관리부터 재고, 매출/매입, 수금/지급, 회계 요약까지 모든 업무를 하나의 시스템에서 처리할 수 있습니다.

### 1.2 주요 기능

#### 마스터 데이터 관리
- **품목 관리**: 부품 및 원자재 정보 관리, Excel 대량 업로드/다운로드
- **거래처 관리**: 고객사/공급사/협력사 정보 관리, 사업자 정보 관리
- **BOM 관리**: 자재 명세서(Bill of Materials) 등록 및 다단계 조회

#### 재고 관리
- **입고 처리**: 원자재 및 부품 입고 등록
- **생산 처리**: 완제품 생산 등록
- **출고 처리**: 제품 출하 등록
- **재고 거래 조회**: 모든 재고 이동 내역 조회

#### 재고 현황
- **현재고 조회**: 품목별 실시간 재고 수량 확인
- **재고 이력**: 품목별 입출고 히스토리 추적
- **재고 리포트**: 재고 분석 및 통계 자료

#### 매출/매입 관리
- **매출 거래**: 고객사 판매 거래 등록 및 관리
- **매입 거래**: 공급사 구매 거래 등록 및 관리
- **거래 내역**: 전체 거래 조회 및 Excel 내보내기

#### 수금/지급 관리
- **수금 처리**: 매출 대금 회수 등록
- **지급 처리**: 매입 대금 지불 등록
- **미수금/미지급금**: 미결제 금액 자동 추적

#### 회계 요약 (Phase 2)
- **월별 회계 요약**: 월별 매출/매입/수금/지급 집계
- **거래처 카테고리 분석**: 협력업체 유형별 거래 분석
- **사업자 정보 관리**: 거래처 업태/종목/주요품목 관리

### 1.3 기술 스택

- **프론트엔드**: Next.js 15.5.3, React 19.1.0, TypeScript
- **백엔드**: Next.js API Routes (서버리스)
- **데이터베이스**: Supabase PostgreSQL (클라우드)
- **UI 라이브러리**: Tailwind CSS, shadcn/ui
- **차트**: Chart.js, Recharts
- **Excel 처리**: SheetJS (xlsx)

### 1.4 시스템 요구사항

#### 최소 사양
- **운영체제**: Windows 10 이상, macOS 11 이상, Linux
- **브라우저**: Chrome 90+, Edge 90+, Firefox 88+, Safari 14+
- **인터넷 연결**: 상시 연결 필요 (클라우드 데이터베이스 사용)

#### 권장 사양
- **화면 해상도**: 1920x1080 이상
- **인터넷 속도**: 10Mbps 이상

---

## 2. 설치 및 초기 설정

### 2.1 사전 요구사항

#### Node.js 설치
1. [Node.js 공식 웹사이트](https://nodejs.org/) 방문
2. **LTS 버전** (18.17 이상) 다운로드
3. 설치 프로그램 실행 및 기본 설정으로 설치

#### 설치 확인
```bash
node --version   # v18.17.0 이상 출력되어야 함
npm --version    # 9.0.0 이상 출력되어야 함
```

### 2.2 Supabase 프로젝트 설정

#### 1단계: Supabase 계정 생성
1. [Supabase 웹사이트](https://supabase.com/) 방문
2. "Start your project" 클릭하여 계정 생성
3. GitHub 또는 이메일로 가입

#### 2단계: 프로젝트 생성
1. Supabase 대시보드에서 "New project" 클릭
2. 프로젝트 정보 입력:
   - **Name**: 프로젝트 이름 (예: taechang-erp)
   - **Database Password**: 강력한 비밀번호 설정
   - **Region**: Northeast Asia (Seoul) 선택 (한국 사용자)
3. "Create new project" 클릭 (생성 완료까지 1-2분 소요)

#### 3단계: API 키 확인
1. 프로젝트 대시보드 → Settings → API 메뉴
2. 다음 정보 복사:
   - **Project URL** (예: https://pybjnkbmtlyaftuiieyq.supabase.co)
   - **anon public** (공개 키)
   - **service_role** (서비스 역할 키) - 관리자용
   - **Project ID** (프로젝트 ID)

### 2.3 환경 변수 설정

#### 1단계: .env.local 파일 생성
프로젝트 루트 디렉토리에 `.env.local` 파일을 생성합니다.

```bash
# 프로젝트 루트에서 실행
touch .env.local    # macOS/Linux
type nul > .env.local    # Windows
```

#### 2단계: 환경 변수 입력
`.env.local` 파일을 열고 다음 내용을 입력합니다:

```env
# 개발 환경 설정
NODE_ENV=development
NEXT_PUBLIC_API_URL=http://localhost:3009/api

# 데이터베이스 타입
DATABASE_TYPE=supabase

# Supabase 설정 (위에서 복사한 값으로 대체)
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_API=your-service-role-key
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-public-key
SUPABASE_PROJECT_ID=your-project-id
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# JWT 시크릿 (임의의 강력한 문자열)
JWT_SECRET=your-random-jwt-secret-key-here
SESSION_SECRET=your-random-session-secret-key-here
```

**⚠️ 중요 보안 사항**:
- `.env.local` 파일은 절대 Git에 커밋하지 마세요
- `service_role` 키는 외부에 노출되면 안 됩니다
- `NEXT_PUBLIC_*` 변수는 브라우저에 노출되므로 민감한 정보를 포함하지 마세요

### 2.4 프로젝트 설치

#### 1단계: 소스 코드 다운로드
```bash
# Git 저장소에서 클론 (실제 저장소 주소로 변경)
git clone https://github.com/your-company/taechang-erp.git
cd taechang-erp
```

#### 2단계: 의존성 패키지 설치
```bash
npm install
```

설치 완료까지 2-3분 소요됩니다.

#### 3단계: 데이터베이스 마이그레이션
```bash
# 데이터베이스 스키마 생성
npm run migrate:up

# 초기 데이터 입력 (선택사항)
npm run seed:all
```

### 2.5 개발 서버 실행

#### Windows 사용자 (권장)
```bash
npm run dev:safe
```

#### macOS/Linux 사용자
```bash
npm run dev
```

#### 실행 확인
브라우저에서 `http://localhost:3009` 접속

**정상 실행 시 표시되는 메시지**:
```
✓ Ready in 3.5s
○ Local: http://localhost:3009
```

### 2.6 포트 관리 (Windows)

포트 3009가 이미 사용 중인 경우:

```bash
# 포트 사용 확인
npm run port:check

# 포트 사용 프로세스 종료
npm run port:kill

# 서버 재시작
npm run restart
```

---

## 3. 로그인 및 대시보드

### 3.1 시스템 접속

#### 접속 방법
1. 브라우저 주소창에 `http://localhost:3009` 입력
2. 로그인 페이지에서 인증 (현재 버전은 인증 비활성화 상태)
3. 자동으로 대시보드로 이동

**참고**: 현재 버전은 개발 단계로 인증 기능이 비활성화되어 있습니다. 프로덕션 배포 시 인증 시스템이 활성화됩니다.

### 3.2 대시보드 구성

대시보드는 크게 **4개 영역**으로 구성됩니다:

#### 상단 헤더
- **시스템 제목**: 태창 ERP 시스템
- **사용자 정보**: 현재 로그인한 사용자 이름 (향후 버전)
- **다크 모드 토글**: 밝은/어두운 테마 전환

#### 좌측 사이드바
- **마스터 데이터**: 품목, 거래처, BOM
- **재고 관리**: 입고, 생산, 출고, 재고 거래
- **재고 현황**: 현재고, 재고 이력, 재고 리포트
- **거래 관리**: 매출, 매입, 수금, 지급
- **회계**: 회계 요약
- **시스템**: 모니터링, 헬스 체크

#### 중앙 KPI 카드 영역
실시간 주요 지표 표시:
- **총 품목 수**: 등록된 전체 품목 수
- **총 재고 가치**: 현재고 총액 (원)
- **금일 거래 건수**: 오늘 발생한 재고 거래 수
- **저재고 품목**: 안전재고 이하 품목 수

각 KPI 카드는 **증감 추세**와 **전일 대비 증감률**을 표시합니다.

#### 차트 및 알림 영역
- **재고 추이 차트**: 최근 7일간 품목별 재고 변동 (막대 차트)
- **거래 현황 차트**: 최근 30일간 입고/출고 추이 (선 차트)
- **알림 패널**: 저재고 알림, 시스템 공지사항

### 3.3 자동 새로고침 설정

대시보드는 **자동 새로고침 기능**을 제공합니다:

1. 우측 상단 "자동 새로고침" 드롭다운 클릭
2. 새로고침 주기 선택:
   - **1분**: 실시간 모니터링이 필요한 경우
   - **5분**: 일반적인 업무 상황 (권장)
   - **10분**: 안정적인 상황
   - **15분**: 시스템 부하 최소화
   - **30분**: 저빈도 모니터링
   - **끄기**: 수동 새로고침만 사용

선택한 주기마다 KPI, 차트, 알림이 자동으로 업데이트됩니다.

### 3.4 메뉴 탐색

좌측 사이드바에서 원하는 메뉴를 클릭하면 해당 페이지로 이동합니다.

**현재 활성화된 메뉴**는 파란색 배경으로 표시됩니다.

---

## 4. 마스터 데이터 관리

마스터 데이터는 시스템의 **기준 정보**입니다. 모든 거래와 재고 관리는 마스터 데이터를 기반으로 합니다.

### 4.1 품목 관리

#### 품목 관리 화면 접근
**좌측 메뉴** → **마스터 데이터** → **품목 관리**

#### 품목 목록 조회

**검색 기능**:
- 품목명 검색: 검색창에 품목명 입력 후 Enter
- 카테고리 필터: 카테고리 드롭다운에서 선택
- 재고 필터: 최소 재고 수량 입력

**표시 정보**:
- 품목코드 (자동 생성)
- 품목명
- 규격
- 단위
- 현재고
- 안전재고
- 단가
- 공급사명
- 상태 (활성/비활성)

#### 품목 등록

1. **"품목 등록" 버튼** 클릭
2. 품목 정보 입력:
   - **품목명** (필수): 부품 또는 원자재 이름
   - **규격**: 제품 사양 (예: "Ø50mm x 100mm")
   - **단위** (필수): EA, KG, M, BOX 등
   - **카테고리**: 원자재, 부품, 반제품, 완제품
   - **안전재고**: 최소 유지 재고 수량
   - **단가**: 개당 가격 (원)
   - **공급사**: 드롭다운에서 선택
   - **설명**: 추가 정보
3. **"등록" 버튼** 클릭

**등록 완료 시**:
- 성공 메시지 표시
- 품목코드 자동 생성 (예: ITEM001, ITEM002, ...)
- 품목 목록에 즉시 반영

#### 품목 수정

1. 품목 목록에서 수정할 품목의 **"수정" 버튼** 클릭
2. 수정 폼에서 정보 변경
3. **"저장" 버튼** 클릭

**참고**: 품목코드는 수정할 수 없습니다.

#### 품목 삭제

1. 품목 목록에서 삭제할 품목의 **"삭제" 버튼** 클릭
2. 확인 대화상자에서 **"확인"** 클릭

**⚠️ 주의**:
- 거래 이력이 있는 품목은 삭제할 수 없습니다
- 삭제 대신 **"비활성화"**를 권장합니다 (상태를 "비활성"으로 변경)

#### Excel 대량 업로드

**1단계: 템플릿 다운로드**
1. **"템플릿 다운로드" 버튼** 클릭
2. `품목_업로드_템플릿.xlsx` 파일 다운로드

**2단계: 템플릿 작성**
Excel 파일을 열고 다음 형식으로 데이터 입력:

| 품목명 | 규격 | 단위 | 카테고리 | 안전재고 | 단가 | 공급사코드 | 설명 |
|--------|------|------|----------|----------|------|------------|------|
| 엔진부품A | Ø50mm | EA | 부품 | 100 | 15000 | SUP001 | 엔진용 |
| 볼트M8 | M8x50 | EA | 원자재 | 500 | 200 | SUP002 | 고장력볼트 |

**컬럼 설명**:
- **품목명** (필수): 한글, 영문, 숫자 가능
- **규격**: 제품 사양
- **단위** (필수): EA, KG, M, BOX, SET 등
- **카테고리**: 원자재, 부품, 반제품, 완제품 중 하나
- **안전재고**: 숫자 (0 이상)
- **단가**: 숫자 (0 이상)
- **공급사코드**: 거래처 관리에서 확인 (예: SUP001)
- **설명**: 자유 텍스트

**3단계: 파일 업로드**
1. **"Excel 업로드" 버튼** 클릭
2. 작성한 Excel 파일 선택
3. 업로드 진행 상황 확인
4. 완료 메시지 확인

**업로드 결과**:
- 성공한 행 수 표시
- 오류 발생 시 오류 행 번호와 원인 표시
- 성공한 데이터는 즉시 품목 목록에 반영

**일반적인 오류**:
- 필수 컬럼 누락 (품목명, 단위)
- 잘못된 카테고리명
- 존재하지 않는 공급사코드
- 숫자 필드에 문자 입력

#### Excel 내보내기

1. **"Excel 내보내기" 버튼** 클릭
2. 현재 조회 중인 품목 목록이 Excel 파일로 다운로드됨
3. 파일명 형식: `품목목록_YYYYMMDD_HHMMSS.xlsx`

**내보내기 파일 구성**:
- **시트1 - 내보내기 정보**: 내보낸 날짜, 레코드 수
- **시트2 - 통계**: 카테고리별 품목 수, 총 재고 가치
- **시트3 - 품목 목록**: 전체 품목 데이터

### 4.2 거래처 관리

#### 거래처 관리 화면 접근
**좌측 메뉴** → **마스터 데이터** → **거래처 관리**

#### 거래처 목록 조회

**검색 기능**:
- 거래처명 검색
- 거래처 유형 필터: 고객사, 공급사, 협력사, 기타
- 카테고리 필터 (Phase 2): 협력업체-원자재, 협력업체-외주, 소모품업체, 기타

**표시 정보**:
- 거래처코드 (자동 생성)
- 거래처명
- 거래처 유형
- 카테고리 (Phase 2)
- 사업자등록번호
- 대표자명
- 전화번호
- 이메일
- 상태

#### 거래처 등록

1. **"거래처 등록" 버튼** 클릭
2. 기본 정보 입력:
   - **거래처명** (필수): 회사명
   - **거래처 유형** (필수): 고객사, 공급사, 협력사, 기타
   - **사업자등록번호**: 000-00-00000 형식
   - **대표자명**: 대표이사 또는 담당자
   - **전화번호**: 02-1234-5678 형식
   - **팩스번호**: (선택)
   - **이메일**: 이메일 주소
   - **주소**: 사업장 주소
   - **설명**: 추가 정보

3. **Phase 2 추가 정보 입력**:
   - **거래처 카테고리**: 협력업체-원자재, 협력업체-외주, 소모품업체, 기타
   - **업태**: 제조업, 도소매업 등
   - **종목**: 자동차부품, 금속제품 등
   - **주요품목**: 취급하는 주요 품목

4. **"등록" 버튼** 클릭

**등록 완료 시**:
- 거래처코드 자동 생성:
  - 고객사 → CUS001, CUS002, ...
  - 공급사 → SUP001, SUP002, ...
  - 협력사 → PAR001, PAR002, ...
  - 기타 → OTH001, OTH002, ...

#### 거래처 수정

1. 거래처 목록에서 **"수정" 버튼** 클릭
2. 정보 수정 (거래처코드는 수정 불가)
3. **"저장" 버튼** 클릭

#### 거래처 삭제

1. 거래처 목록에서 **"삭제" 버튼** 클릭
2. 확인 대화상자에서 **"확인"** 클릭

**⚠️ 주의**: 거래 이력이 있는 거래처는 삭제할 수 없습니다.

#### 거래처 카테고리 (Phase 2)

**4가지 카테고리**:
1. **협력업체-원자재**: 원자재를 공급하는 협력업체
2. **협력업체-외주**: 외주 가공을 담당하는 협력업체
3. **소모품업체**: 소모품을 공급하는 업체
4. **기타**: 기타 거래처

**사용 목적**:
- 회계 요약에서 카테고리별 거래 분석
- 월별 카테고리별 매출/매입 집계
- 거래처 유형별 관리 및 리포트

#### 사업자 정보 관리 (Phase 2)

**JSONB 필드로 저장**:
- **업태**: 사업의 형태 (예: 제조업, 무역업)
- **종목**: 사업의 구체적인 분야 (예: 자동차부품, 철강)
- **주요품목**: 주로 취급하는 품목

**활용**:
- 거래처 검색 및 필터링
- 회계 요약에서 업태별 분석

### 4.3 BOM 관리

#### BOM이란?

**BOM (Bill of Materials, 자재 명세서)**는 완제품을 만드는 데 필요한 모든 부품과 원자재의 목록입니다.

**예시**:
```
완제품: 엔진 어셈블리
├─ 엔진블록 (수량: 1)
├─ 피스톤 (수량: 4)
├─ 실린더헤드 (수량: 1)
└─ 볼트세트 (수량: 1)
    ├─ 볼트M8 (수량: 20)
    └─ 와셔M8 (수량: 20)
```

#### BOM 관리 화면 접근
**좌측 메뉴** → **마스터 데이터** → **BOM 관리**

#### BOM 등록

1. **"BOM 등록" 버튼** 클릭
2. BOM 정보 입력:
   - **BOM 번호**: 자동 생성 (예: BOM001)
   - **상위 품목** (필수): 완제품 또는 반제품 선택
   - **하위 품목** (필수): 구성 품목 선택
   - **수량** (필수): 필요한 개수
   - **단위**: 하위 품목의 단위 (자동 표시)
   - **설명**: 추가 정보
3. **"등록" 버튼** 클릭

**여러 개의 하위 품목 등록**:
같은 상위 품목에 대해 여러 번 등록하면 자동으로 BOM 트리 구조가 만들어집니다.

#### BOM 조회

**목록 보기**:
- 상위 품목명으로 검색
- BOM 번호로 검색
- 전체 BOM 목록 조회

**트리 구조 보기**:
1. BOM 목록에서 **"상세 보기" 버튼** 클릭
2. 다단계 BOM 트리가 표시됨
3. 각 레벨의 수량과 총 소요량 계산

**예시 화면**:
```
엔진 어셈블리 (1개 생산 시)
├─ 엔진블록 x 1
├─ 피스톤 x 4
├─ 실린더헤드 x 1
└─ 볼트세트 x 1
    ├─ 볼트M8 x 20 (총 20개 필요)
    └─ 와셔M8 x 20 (총 20개 필요)

총 소요량:
- 엔진블록: 1개
- 피스톤: 4개
- 실린더헤드: 1개
- 볼트세트: 1개
- 볼트M8: 20개
- 와셔M8: 20개
```

#### BOM 수정

1. BOM 목록에서 **"수정" 버튼** 클릭
2. 수량 또는 설명 수정
3. **"저장" 버튼** 클릭

**참고**: 상위/하위 품목은 수정할 수 없습니다. 품목을 변경하려면 삭제 후 재등록하세요.

#### BOM 삭제

1. BOM 목록에서 **"삭제" 버튼** 클릭
2. 확인 대화상자에서 **"확인"** 클릭

**⚠️ 주의**: 생산 거래에 사용된 BOM은 삭제할 수 없습니다.

---

## 5. 재고 관리

재고 관리는 **입고, 생산, 출고**의 3가지 거래 유형으로 구성됩니다.

### 5.1 입고 처리

#### 입고 처리 화면 접근
**좌측 메뉴** → **재고 관리** → **입고 처리**

#### 입고 거래 등록

**입고 거래**는 외부에서 품목을 구매하여 창고에 들여오는 것을 의미합니다.

1. **"입고 등록" 버튼** 클릭
2. 입고 정보 입력:
   - **거래번호**: 자동 생성 (예: RCV-20251012-001)
   - **품목** (필수): 입고할 품목 선택
   - **수량** (필수): 입고 수량
   - **단위**: 품목 단위 (자동 표시)
   - **거래처** (필수): 공급사 선택
   - **참조번호**: 구매 주문 번호 또는 송장 번호
   - **거래일자** (필수): 입고 일자 (기본값: 오늘)
   - **비고**: 추가 정보
3. **"등록" 버튼** 클릭

**등록 완료 시**:
- 현재고 즉시 증가
- 재고 이력에 입고 기록 추가
- 성공 메시지 표시

#### 입고 내역 조회

**검색 기능**:
- 거래번호 검색
- 품목명 검색
- 거래처명 검색
- 거래일자 범위 선택

**표시 정보**:
- 거래번호
- 거래일자
- 품목명
- 수량
- 단위
- 거래처명
- 참조번호
- 등록일시

#### 입고 수정/삭제

**⚠️ 중요**: 입고 거래는 등록 후 **수정 및 삭제가 제한**됩니다.

**수정 방법**:
1. 잘못된 입고 건은 **"취소"** 처리
2. 올바른 내용으로 **재등록**

**삭제 조건**:
- 재고 이력이 복잡하게 얽혀있지 않은 경우만 가능
- 삭제 시 현재고 자동 감소

### 5.2 생산 처리

#### 생산 처리 화면 접근
**좌측 메뉴** → **재고 관리** → **재고 거래** → **생산 탭**

#### 생산 거래 등록

**생산 거래**는 BOM을 기반으로 원자재/부품을 소모하여 완제품을 생산하는 것을 의미합니다.

1. **"생산 등록" 버튼** 클릭
2. 생산 정보 입력:
   - **거래번호**: 자동 생성 (예: PRD-20251012-001)
   - **생산 품목** (필수): 생산할 완제품 선택 (BOM이 등록된 품목)
   - **생산 수량** (필수): 생산할 개수
   - **BOM 선택** (필수): 사용할 BOM 선택
   - **작업지시번호**: 생산 작업 지시 번호
   - **생산일자** (필수): 생산 완료 일자
   - **비고**: 추가 정보
3. **BOM 소요량 확인**:
   - 시스템이 자동으로 필요한 원자재/부품 수량 계산
   - 현재고와 비교하여 부족 여부 표시
4. **"등록" 버튼** 클릭

**등록 완료 시**:
- 생산 품목 현재고 증가
- BOM 구성 품목 현재고 감소
- 재고 이력에 생산 기록 추가

**예시**:
```
생산 품목: 엔진 어셈블리 10개
BOM 소요량:
- 엔진블록: 10개 (현재고: 15개) ✓
- 피스톤: 40개 (현재고: 50개) ✓
- 실린더헤드: 10개 (현재고: 8개) ✗ 부족!
- 볼트세트: 10개 (현재고: 20개) ✓

→ 실린더헤드가 2개 부족하여 생산 불가
```

#### 생산 내역 조회

**검색 기능**:
- 거래번호 검색
- 생산 품목명 검색
- 작업지시번호 검색
- 생산일자 범위 선택

**표시 정보**:
- 거래번호
- 생산일자
- 생산 품목명
- 생산 수량
- BOM 번호
- 작업지시번호
- 등록일시

### 5.3 출고 처리

#### 출고 처리 화면 접근
**좌측 메뉴** → **재고 관리** → **재고 거래** → **출고 탭**

#### 출고 거래 등록

**출고 거래**는 고객사에게 제품을 판매하여 창고에서 내보내는 것을 의미합니다.

1. **"출고 등록" 버튼** 클릭
2. 출고 정보 입력:
   - **거래번호**: 자동 생성 (예: SHP-20251012-001)
   - **품목** (필수): 출고할 품목 선택
   - **수량** (필수): 출고 수량
   - **단위**: 품목 단위 (자동 표시)
   - **거래처** (필수): 고객사 선택
   - **참조번호**: 판매 주문 번호 또는 배송 번호
   - **거래일자** (필수): 출고 일자 (기본값: 오늘)
   - **비고**: 추가 정보
3. **재고 확인**:
   - 현재고가 출고 수량보다 많은지 확인
   - 부족한 경우 경고 메시지 표시
4. **"등록" 버튼** 클릭

**등록 완료 시**:
- 현재고 즉시 감소
- 재고 이력에 출고 기록 추가
- 성공 메시지 표시

#### 출고 내역 조회

**검색 기능**:
- 거래번호 검색
- 품목명 검색
- 거래처명 검색
- 거래일자 범위 선택

**표시 정보**:
- 거래번호
- 거래일자
- 품목명
- 수량
- 단위
- 거래처명
- 참조번호
- 등록일시

### 5.4 재고 거래 조회

#### 전체 거래 내역 조회

**좌측 메뉴** → **재고 관리** → **재고 거래**

**탭 구성**:
- **전체**: 입고, 생산, 출고 모두 표시
- **입고**: 입고 거래만 표시
- **생산**: 생산 거래만 표시
- **출고**: 출고 거래만 표시

**필터 기능**:
- 거래 유형 선택
- 거래일자 범위
- 품목명 검색
- 거래처명 검색

**표시 정보**:
- 거래번호
- 거래 유형 (입고/생산/출고)
- 거래일자
- 품목명
- 수량
- 단위
- 거래처명 (해당 시)
- 참조번호
- 등록일시

---

## 6. 재고 현황 및 리포트

### 6.1 현재고 조회

#### 현재고 화면 접근
**좌측 메뉴** → **재고 현황** → **현재고**

#### 현재고 목록

**표시 정보**:
- 품목코드
- 품목명
- 규격
- 현재고 수량
- 단위
- 안전재고
- 재고 상태 (정상/부족/과다)
- 최종 거래일

**재고 상태 표시**:
- **정상**: 안전재고 이상 ~ 안전재고 x 3 이하
- **부족** (빨간색): 안전재고 미만
- **과다** (주황색): 안전재고 x 3 초과

#### 검색 및 필터

- **품목명 검색**: 검색창에 품목명 입력
- **카테고리 필터**: 원자재, 부품, 반제품, 완제품
- **재고 상태 필터**: 정상, 부족, 과다
- **정렬**: 품목명, 현재고 수량, 최종 거래일

#### 저재고 품목 확인

1. 재고 상태 필터에서 **"부족"** 선택
2. 안전재고 미만 품목 목록 표시
3. **발주 필요 품목** 확인

### 6.2 재고 이력

#### 재고 이력 화면 접근
**좌측 메뉴** → **재고 현황** → **재고 이력**

#### 품목별 이력 조회

1. **품목 선택**: 드롭다운에서 품목 선택
2. **기간 선택**: 시작일 ~ 종료일 선택
3. **"조회" 버튼** 클릭

**표시 정보**:
- 거래일시
- 거래 유형 (입고/생산/출고)
- 거래번호
- 수량 (입고: +, 출고: -)
- 거래 후 재고
- 거래처명 (해당 시)
- 참조번호

**시각화**:
- 재고 추이 그래프 (선 차트)
- X축: 거래일자
- Y축: 재고 수량

#### 이력 분석

**활용 방법**:
- 재고 변동 패턴 파악
- 입출고 빈도 분석
- 재고 회전율 계산
- 적정 재고 수준 결정

### 6.3 재고 리포트

#### 재고 리포트 화면 접근
**좌측 메뉴** → **재고 현황** → **재고 리포트**

#### 재고 분석 리포트

**리포트 유형**:

1. **품목별 재고 현황**:
   - 전체 품목의 현재고, 안전재고, 단가
   - 총 재고 가치 계산

2. **카테고리별 재고 분포**:
   - 원자재/부품/반제품/완제품별 집계
   - 파이 차트로 시각화

3. **ABC 분석**:
   - A등급: 상위 20% (재고 가치 기준)
   - B등급: 중위 30%
   - C등급: 하위 50%

4. **재고 회전율**:
   - 품목별 월간 입출고 빈도
   - 회전율이 낮은 품목 식별 (재고 과다)

#### 리포트 출력

1. 리포트 유형 선택
2. **"리포트 생성" 버튼** 클릭
3. **"Excel 다운로드" 또는 "PDF 다운로드"** 선택

---

## 7. 매출/매입 관리

### 7.1 매출 관리

#### 매출 관리 화면 접근
**좌측 메뉴** → **거래 관리** → **매출**

#### 매출 거래 등록

**매출 거래**는 고객사에게 제품을 판매하는 거래입니다.

1. **"매출 등록" 버튼** 클릭
2. 매출 정보 입력:
   - **거래번호**: 자동 생성 (예: SAL-2025-10-001)
   - **거래일자** (필수): 판매 일자
   - **고객사** (필수): 드롭다운에서 고객사 선택
   - **품목** (필수): 판매 품목 선택
   - **수량** (필수): 판매 수량
   - **단위**: 품목 단위 (자동 표시)
   - **단가** (필수): 개당 판매 가격
   - **공급가액**: 자동 계산 (수량 x 단가 / 1.1)
   - **부가세**: 자동 계산 (공급가액 x 0.1)
   - **합계금액**: 자동 계산 (공급가액 + 부가세)
   - **결제 상태**: 미수금, 부분입금, 완료 (기본값: 미수금)
   - **수금액**: 현재까지 수금한 금액
   - **비고**: 추가 정보
3. **"등록" 버튼** 클릭

**등록 완료 시**:
- 매출 거래 생성
- 결제 상태 자동 계산:
  - 수금액 = 0 → 미수금
  - 수금액 < 합계금액 → 부분입금
  - 수금액 = 합계금액 → 완료
- 성공 메시지 표시

#### 매출 내역 조회

**검색 기능**:
- 거래번호 검색
- 고객사명 검색
- 품목명 검색
- 거래일자 범위 선택
- 결제 상태 필터 (미수금/부분입금/완료)

**표시 정보**:
- 거래번호
- 거래일자
- 고객사명
- 품목명
- 수량
- 단가
- 합계금액
- 결제 상태
- 미수금 (합계금액 - 수금액)

#### 매출 수정

1. 매출 목록에서 **"수정" 버튼** 클릭
2. 정보 수정 (거래번호는 수정 불가)
3. **"저장" 버튼** 클릭

**참고**: 수금이 발생한 매출 거래는 수정이 제한됩니다.

#### 매출 삭제

1. 매출 목록에서 **"삭제" 버튼** 클릭
2. 확인 대화상자에서 **"확인"** 클릭

**⚠️ 주의**: 수금이 발생한 매출 거래는 삭제할 수 없습니다.

#### 매출 Excel 내보내기

1. **"Excel 내보내기" 버튼** 클릭
2. 현재 조회 중인 매출 내역이 Excel 파일로 다운로드됨
3. 파일명 형식: `매출내역_YYYYMMDD_HHMMSS.xlsx`

**내보내기 파일 구성** (3개 시트):
- **시트1 - 내보내기 정보**: 내보낸 날짜, 레코드 수
- **시트2 - 통계**: 총 매출액, 수금액, 미수금, 평균 단가
- **시트3 - 매출 내역**: 전체 매출 데이터

### 7.2 매입 관리

#### 매입 관리 화면 접근
**좌측 메뉴** → **거래 관리** → **매입**

#### 매입 거래 등록

**매입 거래**는 공급사로부터 원자재나 부품을 구매하는 거래입니다.

1. **"매입 등록" 버튼** 클릭
2. 매입 정보 입력:
   - **거래번호**: 자동 생성 (예: PUR-2025-10-001)
   - **거래일자** (필수): 구매 일자
   - **공급사** (필수): 드롭다운에서 공급사 선택
   - **품목** (필수): 구매 품목 선택
   - **수량** (필수): 구매 수량
   - **단위**: 품목 단위 (자동 표시)
   - **단가** (필수): 개당 구매 가격
   - **공급가액**: 자동 계산 (수량 x 단가 / 1.1)
   - **부가세**: 자동 계산 (공급가액 x 0.1)
   - **합계금액**: 자동 계산 (공급가액 + 부가세)
   - **결제 상태**: 미지급, 부분지급, 완료 (기본값: 미지급)
   - **지급액**: 현재까지 지급한 금액
   - **비고**: 추가 정보
3. **"등록" 버튼** 클릭

**등록 완료 시**:
- 매입 거래 생성
- 결제 상태 자동 계산:
  - 지급액 = 0 → 미지급
  - 지급액 < 합계금액 → 부분지급
  - 지급액 = 합계금액 → 완료
- 성공 메시지 표시

#### 매입 내역 조회

**검색 기능**:
- 거래번호 검색
- 공급사명 검색
- 품목명 검색
- 거래일자 범위 선택
- 결제 상태 필터 (미지급/부분지급/완료)

**표시 정보**:
- 거래번호
- 거래일자
- 공급사명
- 품목명
- 수량
- 단가
- 합계금액
- 결제 상태
- 미지급금 (합계금액 - 지급액)

#### 매입 Excel 내보내기

1. **"Excel 내보내기" 버튼** 클릭
2. 현재 조회 중인 매입 내역이 Excel 파일로 다운로드됨
3. 파일명 형식: `매입내역_YYYYMMDD_HHMMSS.xlsx`

**내보내기 파일 구성** (3개 시트):
- **시트1 - 내보내기 정보**: 내보낸 날짜, 레코드 수
- **시트2 - 통계**: 총 매입액, 지급액, 미지급금, 평균 단가
- **시트3 - 매입 내역**: 전체 매입 데이터

---

## 8. 수금/지급 관리

### 8.1 수금 관리

#### 수금 관리 화면 접근
**좌측 메뉴** → **거래 관리** → **수금**

#### 수금 처리

**수금**은 고객사로부터 매출 대금을 회수하는 것을 의미합니다.

1. **"수금 등록" 버튼** 클릭
2. 수금 정보 입력:
   - **수금번호**: 자동 생성 (예: COL-2025-10-001)
   - **수금일자** (필수): 입금 확인 일자
   - **매출 거래** (필수): 수금할 매출 거래 선택
     - 미수금이 있는 거래만 목록에 표시됨
   - **고객사**: 자동 표시 (매출 거래 기준)
   - **매출 금액**: 자동 표시
   - **기존 수금액**: 자동 표시
   - **미수금**: 자동 표시 (매출 금액 - 기존 수금액)
   - **금회 수금액** (필수): 이번에 입금된 금액
   - **결제 방법**: 현금, 계좌이체, 어음, 카드
   - **비고**: 추가 정보
3. **"등록" 버튼** 클릭

**등록 완료 시**:
- 수금 내역 생성
- 매출 거래의 수금액 자동 증가
- 매출 거래의 결제 상태 자동 업데이트:
  - 전액 수금 → 완료
  - 일부 수금 → 부분입금
- 성공 메시지 표시

#### 수금 내역 조회

**검색 기능**:
- 수금번호 검색
- 고객사명 검색
- 수금일자 범위 선택
- 결제 방법 필터

**표시 정보**:
- 수금번호
- 수금일자
- 고객사명
- 매출 거래번호
- 매출 금액
- 금회 수금액
- 잔액 (미수금)
- 결제 방법

#### 미수금 현황

**미수금 대시보드**:
- 총 미수금: 전체 고객사 미수금 합계
- 고객사별 미수금 목록
- 30일 이상 미수금 알림
- 60일 이상 미수금 경고

**미수금 확인 방법**:
1. 수금 관리 화면 상단의 **"미수금 현황"** 탭 클릭
2. 고객사별 미수금 확인
3. 회수 필요 고객사 식별

#### 수금 Excel 내보내기

1. **"Excel 내보내기" 버튼** 클릭
2. 현재 조회 중인 수금 내역이 Excel 파일로 다운로드됨
3. 파일명 형식: `수금내역_YYYYMMDD_HHMMSS.xlsx`

**내보내기 파일 구성** (3개 시트):
- **시트1 - 내보내기 정보**: 내보낸 날짜, 레코드 수
- **시트2 - 통계**: 총 수금액, 결제 방법별 집계, 미수금 현황
- **시트3 - 수금 내역**: 전체 수금 데이터

### 8.2 지급 관리

#### 지급 관리 화면 접근
**좌측 메뉴** → **거래 관리** → **지급**

#### 지급 처리

**지급**은 공급사에게 매입 대금을 지불하는 것을 의미합니다.

1. **"지급 등록" 버튼** 클릭
2. 지급 정보 입력:
   - **지급번호**: 자동 생성 (예: PAY-2025-10-001)
   - **지급일자** (필수): 지불 일자
   - **매입 거래** (필수): 지급할 매입 거래 선택
     - 미지급금이 있는 거래만 목록에 표시됨
   - **공급사**: 자동 표시 (매입 거래 기준)
   - **매입 금액**: 자동 표시
   - **기존 지급액**: 자동 표시
   - **미지급금**: 자동 표시 (매입 금액 - 기존 지급액)
   - **금회 지급액** (필수): 이번에 지불한 금액
   - **결제 방법**: 현금, 계좌이체, 어음, 카드
   - **비고**: 추가 정보
3. **"등록" 버튼** 클릭

**등록 완료 시**:
- 지급 내역 생성
- 매입 거래의 지급액 자동 증가
- 매입 거래의 결제 상태 자동 업데이트:
  - 전액 지급 → 완료
  - 일부 지급 → 부분지급
- 성공 메시지 표시

#### 지급 내역 조회

**검색 기능**:
- 지급번호 검색
- 공급사명 검색
- 지급일자 범위 선택
- 결제 방법 필터

**표시 정보**:
- 지급번호
- 지급일자
- 공급사명
- 매입 거래번호
- 매입 금액
- 금회 지급액
- 잔액 (미지급금)
- 결제 방법

#### 미지급금 현황

**미지급금 대시보드**:
- 총 미지급금: 전체 공급사 미지급금 합계
- 공급사별 미지급금 목록
- 30일 이상 미지급금 알림
- 60일 이상 미지급금 경고

**미지급금 확인 방법**:
1. 지급 관리 화면 상단의 **"미지급금 현황"** 탭 클릭
2. 공급사별 미지급금 확인
3. 지급 필요 공급사 식별

#### 지급 Excel 내보내기

1. **"Excel 내보내기" 버튼** 클릭
2. 현재 조회 중인 지급 내역이 Excel 파일로 다운로드됨
3. 파일명 형식: `지급내역_YYYYMMDD_HHMMSS.xlsx`

**내보내기 파일 구성** (3개 시트):
- **시트1 - 내보내기 정보**: 내보낸 날짜, 레코드 수
- **시트2 - 통계**: 총 지급액, 결제 방법별 집계, 미지급금 현황
- **시트3 - 지급 내역**: 전체 지급 데이터

---

## 9. 회계 요약

**Phase 2 기능**: 회계 요약은 2단계에서 추가된 고급 분석 기능입니다.

### 9.1 회계 요약 화면 접근

**좌측 메뉴** → **회계** → **회계 요약**

### 9.2 월별 회계 요약

#### 요약 정보 조회

**기본 화면 구성**:
- **KPI 카드 영역**: 주요 재무 지표
- **월별 추이 차트**: 매출/매입 추이
- **거래처 카테고리별 분석**: 협력업체 유형별 거래 내역
- **상세 거래 테이블**: 거래처별 상세 내역

#### KPI 카드

**4가지 주요 지표**:

1. **총 매출액**:
   - 선택한 기간의 전체 매출 합계
   - 전월 대비 증감률 표시

2. **총 매입액**:
   - 선택한 기간의 전체 매입 합계
   - 전월 대비 증감률 표시

3. **순이익**:
   - 매출액 - 매입액
   - 이익률 (%) 표시

4. **미수금/미지급금**:
   - 현재 미수금 총액
   - 현재 미지급금 총액

#### 기간 선택

**조회 기간 설정**:
1. **시작 월** 선택 (예: 2025년 10월)
2. **종료 월** 선택 (예: 2025년 10월)
3. **"조회" 버튼** 클릭

**참고**: 최대 12개월까지 조회 가능합니다.

#### 월별 추이 차트

**차트 정보**:
- **X축**: 월 (YYYY-MM 형식)
- **Y축**: 금액 (원)
- **매출 라인**: 파란색
- **매입 라인**: 빨간색
- **순이익 라인**: 초록색

**차트 기능**:
- 마우스 오버 시 정확한 금액 표시
- 범례 클릭하여 라인 표시/숨기기
- 확대/축소 기능

### 9.3 거래처 카테고리별 분석

#### 카테고리별 집계

**4가지 카테고리**:
1. **협력업체-원자재**: 원자재를 공급하는 협력업체
2. **협력업체-외주**: 외주 가공을 담당하는 협력업체
3. **소모품업체**: 소모품을 공급하는 업체
4. **기타**: 기타 거래처

**표시 정보**:
- 카테고리명
- 거래처 수
- 총 매출액
- 총 매입액
- 순이익
- 매출 비중 (%)
- 매입 비중 (%)

#### 카테고리 파이 차트

**매출 분포 차트**:
- 카테고리별 매출 비중
- 색상으로 구분

**매입 분포 차트**:
- 카테고리별 매입 비중
- 색상으로 구분

### 9.4 거래처별 상세 내역

#### 상세 테이블

**표시 정보**:
- 거래처코드
- 거래처명
- 거래처 유형 (고객사/공급사/협력사)
- 카테고리 (Phase 2)
- 매출액
- 매입액
- 수금액
- 지급액
- 미수금 (매출액 - 수금액)
- 미지급금 (매입액 - 지급액)
- 순이익 (매출액 - 매입액)

#### 정렬 및 필터

**정렬**:
- 컬럼 헤더 클릭하여 오름차순/내림차순 정렬
- 매출액, 매입액, 순이익 기준 정렬 가능

**필터**:
- 거래처 유형 필터
- 카테고리 필터
- 최소 거래 금액 필터

### 9.5 사업자 정보 관리

#### 사업자 정보 조회

거래처별 **사업자 정보**(JSONB 필드) 조회:
- **업태**: 제조업, 도소매업 등
- **종목**: 자동차부품, 금속제품 등
- **주요품목**: 주로 취급하는 품목

**조회 방법**:
1. 거래처 상세 테이블에서 거래처명 클릭
2. 팝업 창에 사업자 정보 표시

#### 사업자 정보 수정

1. 거래처 관리 메뉴에서 거래처 수정
2. "사업자 정보" 섹션에서 업태/종목/주요품목 입력
3. 저장

**활용**:
- 거래처 검색 시 업태/종목으로 필터링
- 회계 요약에서 업태별 분석

### 9.6 Excel 내보내기

#### 회계 요약 Excel 다운로드

1. **"Excel 내보내기" 버튼** 클릭
2. 현재 조회 중인 회계 요약이 Excel 파일로 다운로드됨
3. 파일명 형식: `회계요약_YYYYMM_YYYYMM.xlsx`

**내보내기 파일 구성** (5개 시트):
- **시트1 - 요약 정보**: 조회 기간, 주요 KPI
- **시트2 - 월별 추이**: 월별 매출/매입/순이익
- **시트3 - 카테고리별 분석**: 협력업체 유형별 집계
- **시트4 - 거래처별 상세**: 전체 거래처 내역
- **시트5 - 차트 데이터**: 그래프용 원본 데이터

---

## 10. 시스템 관리

### 10.1 시스템 모니터링

#### 모니터링 화면 접근
**좌측 메뉴** → **시스템** → **모니터링**

#### 시스템 상태

**실시간 모니터링 정보**:
- **서버 상태**: 정상/경고/오류
- **데이터베이스 연결**: 연결/끊김
- **API 응답 시간**: 평균 응답 시간 (ms)
- **동시 사용자 수**: 현재 접속 중인 사용자 수

#### 성능 지표

**주요 성능 메트릭**:
- **CPU 사용률**: 서버 CPU 사용 비율
- **메모리 사용률**: 서버 메모리 사용 비율
- **디스크 사용률**: 저장 공간 사용 비율
- **네트워크 트래픽**: 초당 전송 데이터량

**성능 차트**:
- 최근 1시간 추이 그래프
- 10분 단위 업데이트

### 10.2 헬스 체크

#### 헬스 체크 화면 접근
**좌측 메뉴** → **시스템** → **헬스 체크**

#### 시스템 점검

**점검 항목**:
1. **데이터베이스 연결**: Supabase 연결 상태
2. **API 엔드포인트**: 주요 API 응답 확인
3. **파일 시스템**: 디스크 공간 확인
4. **외부 서비스**: Excel 처리, 이메일 등

**점검 방법**:
1. **"전체 점검 시작" 버튼** 클릭
2. 각 항목별 점검 진행
3. 결과 표시:
   - ✅ 정상
   - ⚠️ 경고
   - ❌ 오류

#### 오류 로그

**로그 조회**:
- 오류 발생 시간
- 오류 유형
- 오류 메시지
- 스택 트레이스

**로그 필터**:
- 오류 레벨 (에러/경고/정보)
- 날짜 범위
- 모듈 (API/데이터베이스/UI)

### 10.3 데이터 백업

#### 수동 백업

**백업 방법**:
1. Supabase 대시보드 접속
2. Database → Backups 메뉴
3. "Create backup" 버튼 클릭
4. 백업 완료 대기 (1-5분)

**백업 파일**:
- 전체 데이터베이스 스냅샷
- SQL 덤프 파일 형식
- 다운로드 가능 (7일간 보관)

#### 자동 백업

**Supabase 자동 백업**:
- **무료 플랜**: 일일 백업 (7일 보관)
- **Pro 플랜**: 일일 백업 (30일 보관)
- **Enterprise 플랜**: 실시간 Point-in-Time Recovery

**백업 확인**:
1. Supabase 대시보드 → Database → Backups
2. 백업 이력 확인
3. 필요 시 복원

### 10.4 시스템 설정

#### 일반 설정

**시스템 기본 설정**:
- **회사명**: 태창
- **시스템명**: 태창 ERP 시스템
- **시간대**: Asia/Seoul (KST)
- **통화**: KRW (원)
- **언어**: 한국어

#### 알림 설정

**알림 유형**:
- 저재고 알림: 안전재고 이하 시 알림
- 미수금 알림: 30일/60일 경과 알림
- 미지급금 알림: 30일/60일 경과 알림
- 시스템 공지: 업데이트 및 유지보수 공지

**알림 수신 방법**:
- 대시보드 알림 패널
- 이메일 알림 (향후 버전)
- SMS 알림 (향후 버전)

---

## 11. FAQ 및 문제 해결

### 11.1 자주 묻는 질문

#### Q1: 개발 서버가 시작되지 않아요

**A1**: 다음 순서로 해결하세요:

1. **포트 확인**:
   ```bash
   npm run port:check
   ```
   포트 3009가 사용 중이면:
   ```bash
   npm run port:kill
   ```

2. **node_modules 재설치**:
   ```bash
   rm -rf node_modules
   npm install
   ```

3. **캐시 삭제** (Windows):
   ```bash
   rd /s /q .next
   npm run dev:safe
   ```

#### Q2: 한글이 깨져서 표시돼요

**A2**: 한글 인코딩 문제입니다.

**원인**:
- API에서 `request.json()` 사용 (잘못된 방법)

**해결**:
- API에서 `request.text()` + `JSON.parse()` 사용 (올바른 방법)

**확인 방법**:
- 브라우저 개발자 도구 (F12) → Network 탭
- API 응답 확인
- 한글이 "������"로 표시되면 인코딩 문제

**이미 해결됨**: 모든 Phase 1 & 2 API는 올바른 패턴 사용 중

#### Q3: Excel 업로드가 실패해요

**A3**: Excel 파일 형식을 확인하세요.

**지원 형식**:
- ✅ .xlsx (Excel 2007 이상)
- ❌ .xls (Excel 97-2003) - 지원 안 함
- ❌ .csv - 별도 기능 사용

**일반적인 오류**:
1. **필수 컬럼 누락**:
   - 템플릿 다운로드 후 컬럼 구조 확인
   - 필수 컬럼: 품목명, 단위 (품목 업로드)

2. **잘못된 데이터 형식**:
   - 숫자 필드에 문자 입력
   - 카테고리명 오타

3. **존재하지 않는 참조**:
   - 공급사코드가 거래처 마스터에 없음
   - 품목코드가 품목 마스터에 없음

**해결**:
- 오류 메시지의 **행 번호**와 **원인** 확인
- 해당 행 수정 후 재업로드

#### Q4: 현재고가 마이너스가 됐어요

**A4**: 출고 또는 생산 거래에서 재고가 부족한 경우입니다.

**원인**:
- 출고 수량 > 현재고
- 생산 시 BOM 구성 품목 부족

**해결**:
1. **재고 조정**:
   - 재고 현황 → 재고 조정 기능 사용 (향후 버전)
   - 또는 입고 거래 등록

2. **거래 취소**:
   - 잘못된 출고/생산 거래 삭제
   - 올바른 수량으로 재등록

**예방**:
- 출고 전 현재고 확인
- 생산 전 BOM 소요량 확인

#### Q5: 매출/매입 거래를 수정할 수 없어요

**A5**: 수금/지급이 발생한 거래는 수정이 제한됩니다.

**이유**:
- 회계 정합성 유지
- 수금/지급 내역과 불일치 방지

**해결**:
1. **수금/지급 내역 먼저 삭제**
2. **매출/매입 거래 수정**
3. **수금/지급 내역 재등록**

**또는**:
- 거래 취소 후 재등록

### 11.2 일반적인 문제 해결

#### 문제: "데이터베이스 연결 실패"

**원인**:
- Supabase URL 또는 API 키 오류
- 인터넷 연결 끊김
- Supabase 서비스 장애

**해결**:
1. **.env.local 파일 확인**:
   ```env
   NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
   ```

2. **인터넷 연결 확인**

3. **Supabase 상태 확인**:
   - https://status.supabase.com/ 방문
   - 서비스 장애 여부 확인

4. **서버 재시작**:
   ```bash
   npm run restart
   ```

#### 문제: "페이지가 느려요"

**원인**:
- 대량 데이터 조회
- 네트워크 속도 저하
- 브라우저 캐시 과다

**해결**:
1. **조회 기간 축소**:
   - 1년 → 1개월로 변경

2. **필터 사용**:
   - 카테고리, 거래처 필터로 데이터 양 감소

3. **브라우저 캐시 삭제**:
   - Ctrl + Shift + Delete (Windows)
   - Cmd + Shift + Delete (Mac)
   - "캐시된 이미지 및 파일" 선택 후 삭제

4. **페이지 새로고침**:
   - F5 또는 Ctrl + R

#### 문제: "로그인 화면이 안 나와요"

**A**: 현재 버전은 인증 기능이 비활성화되어 있습니다.

**정상 동작**:
- `http://localhost:3009` 접속 시 바로 대시보드로 이동

**만약 로그인 화면이 나온다면**:
- 향후 버전에서 인증 기능 활성화된 것
- 관리자에게 계정 발급 요청

### 11.3 에러 메시지 해설

#### "Column 'payment_status' does not accept 'COMPLETED'"

**의미**: 결제 상태 값이 잘못됨

**원인**: 데이터베이스의 CHECK 제약조건 위반

**올바른 값**:
- `PENDING` (미결제)
- `PARTIAL` (부분결제)
- `COMPLETE` (완료) ← COMPLETED 아님!

**해결**: 올바른 값으로 수정

#### "Foreign key constraint violation"

**의미**: 외래 키 제약조건 위반

**원인**:
- 존재하지 않는 거래처 또는 품목 참조

**해결**:
1. 거래처/품목 마스터에 데이터 먼저 등록
2. 올바른 코드로 거래 등록

#### "Cannot read property 'company_name' of null"

**의미**: 거래처 정보가 없음

**원인**:
- 거래에 거래처가 연결되지 않음
- 거래처가 삭제됨

**해결**:
1. 거래 수정하여 올바른 거래처 연결
2. 또는 거래 삭제 후 재등록

### 11.4 Windows 환경 특화 문제

#### 문제: "npm run dev 실패 (오류 -4094)"

**원인**: Webpack 파일 시스템 캐싱 문제

**해결**:
```bash
npm run dev:safe
```

이 명령은:
- .next 폴더 삭제
- 캐시 비활성화
- 폴링 모드로 파일 감시

#### 문제: "포트 3009 이미 사용 중"

**원인**: 이전 프로세스가 종료되지 않음

**해결**:
```bash
npm run port:kill
npm run restart
```

또는 수동으로:
```bash
netstat -ano | findstr :3009
taskkill /PID [프로세스ID] /F
```

---

## 부록 A: 단축키

### 전역 단축키

| 단축키 | 기능 |
|--------|------|
| F5 | 페이지 새로고침 |
| Ctrl + S | 폼 저장 (해당 시) |
| Esc | 모달 닫기 |
| Ctrl + F | 검색창 포커스 |

### 테이블 단축키

| 단축키 | 기능 |
|--------|------|
| ↑ / ↓ | 행 이동 |
| Enter | 행 선택/상세 보기 |
| Ctrl + A | 전체 선택 (해당 시) |

---

## 부록 B: 용어 설명

### 기본 용어

- **품목**: 원자재, 부품, 반제품, 완제품을 통칭
- **거래처**: 고객사, 공급사, 협력사를 통칭
- **BOM**: Bill of Materials, 자재 명세서
- **현재고**: 현재 시점의 재고 수량
- **안전재고**: 최소 유지해야 할 재고 수량

### 재고 관련

- **입고**: 외부에서 품목을 구매하여 들여옴
- **생산**: BOM을 기반으로 완제품 제조
- **출고**: 고객사에게 제품을 판매하여 내보냄

### 거래 관련

- **매출**: 고객사에게 제품 판매
- **매입**: 공급사로부터 원자재/부품 구매
- **수금**: 매출 대금 회수
- **지급**: 매입 대금 지불

### 결제 상태

- **미수금/미지급**: 아직 결제되지 않음 (수금액/지급액 = 0)
- **부분입금/부분지급**: 일부만 결제됨 (0 < 수금액/지급액 < 합계금액)
- **완료**: 전액 결제됨 (수금액/지급액 = 합계금액)

### Phase 2 용어

- **거래처 카테고리**: 협력업체 유형 분류 (원자재/외주/소모품/기타)
- **사업자 정보 (JSONB)**: 업태/종목/주요품목
- **월별 회계 요약**: 월별 매출/매입/수금/지급 집계

---

## 부록 C: 데이터베이스 정보

### 주요 테이블

| 테이블명 | 설명 |
|---------|------|
| items | 품목 마스터 |
| companies | 거래처 마스터 |
| bom | 자재 명세서 |
| inventory_transactions | 재고 거래 (입고/생산/출고) |
| sales_transactions | 매출 거래 |
| purchase_transactions | 매입 거래 |
| collections | 수금 내역 |
| payments | 지급 내역 |

### Phase 2 추가 사항

**companies 테이블 확장**:
- `company_category` VARCHAR(50): 거래처 카테고리
- `business_info` JSONB: 사업자 정보

**새로운 뷰**:
- `v_monthly_accounting`: 월별 거래처별 집계
- `v_category_monthly_summary`: 월별 카테고리별 집계

---

## 부록 D: 연락처

### 기술 지원

- **이메일**: support@taechang-erp.com
- **전화**: 02-1234-5678
- **업무 시간**: 평일 09:00 - 18:00 (주말 및 공휴일 제외)

### 긴급 문의

- **긴급 전화**: 010-1234-5678 (24시간)

---

**문서 끝**

이 매뉴얼은 태창 ERP 시스템 v1.0을 기준으로 작성되었습니다.
최신 버전은 시스템 내 "도움말" 메뉴에서 확인하실 수 있습니다.
